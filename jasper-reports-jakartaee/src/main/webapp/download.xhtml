<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/facelets"
    xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Base Project</title>
    </h:head>
    
    <h:body>
        <h3>PDF Download</h3>

        <script>
            //<![CDATA[
            function start() {
                PF('statusDialog').show();
            }
        
            function stop() {
                PF('statusDialog').hide();
            }
            //]]>
        </script>
        
        <p:dialog modal="true" 
            widgetVar="statusDialog" 
            draggable="false" 
            closable="false"
            resizable="false">

            <i class="pi pi-spinner pi-spin" style="font-size:3rem"></i>
        </p:dialog>
    
        <h:form>
            <p:commandButton value="Download" 
                ajax="false" 
                onclick="PrimeFaces.monitorDownload(start, stop);"
                icon="pi pi-arrow-down" styleClass="mr-2">

                <p:fileDownload value="#{downloadController.download()}"/>
            </p:commandButton>
        </h:form>
    </h:body>
</html>
